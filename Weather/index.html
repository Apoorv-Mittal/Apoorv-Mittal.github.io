<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Apoorv Mittal">
    <title>Weather App</title>
    <style>
        #Temp{
            display: inline;
        }
        body{
            text-align: center;
            color:rgb(255,14,0);
            font-size: 50px;
        }
        img{
            height: 50px;
            width: 50px;
        }
        canvas{
            display: inline-block;
        }
    </style>
</head>
<body>
<div class="icons">
    <p id="Temp"></p><br>
    <span id="summary"></span><canvas id="symbol" width="125" height="125"></canvas><br>
    <span id="summary-hourly"></span><canvas id="symbol-hourly" width="125" height="125"></canvas><br>
    <span id="summary-Day"></span><canvas id="symbol-Day" width="125" height="125"></canvas>
</div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="skycons.js"></script>
<script>

    $(document).ready(function () {
        getLocation();
    })

    var x = document.getElementById("Temp");

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }
    function showPosition(position) {
        $.getJSON('https://api.darksky.net/forecast/6ed2d4e38c7daff6bac594e441e24c8a/'+position.coords.latitude+','+position.coords.longitude, function (forecast) {


            x.innerHTML=forecast.currently.temperature+ ""
                +" <img src='svgs/Degrees-Fahrenheit.svg'>";

            var icon=forecast.currently.icon;
            var iconhourly=forecast.minutely.icon;
            var iconDay=forecast.hourly.icon;
            var icons = new Skycons({"color": "rgb(255,14,0)"}),
                list  = [
                    "clear-day", "clear-night", "partly-cloudy-day",
                    "partly-cloudy-night", "cloudy", "rain", "sleet", "snow", "wind",
                    "fog"
                ],
                i;

            for(i = list.length; i--; )
                if(list[i].includes(icon)) {
                    icons.set("symbol", list[i]);
                    $('#summary').html(forecast.currently.summary);
                }
                else if(list[i].includes(iconhourly)){
                    icons.set("symbol-hourly", list[i]);
                    $('#summary-hourly').html(forecast.minutely.summary)
                }
                else if(list[i].includes(iconDay)){
                    icons.set("symbol-Day", list[i]);
                    $('#summary-Day').html(forecast.hourly.summary)
                }
            icons.play();
        })
    }


</script>

</body>
</html>